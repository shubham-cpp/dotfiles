#!/bin/bash
run() {
  if ! pgrep $1; then
    $@ &
  fi
}

bash ~/.local/bin/myscripts/default_mouse_settings &

setsid -f kmonad ~/.config/kmonad/mkmonad.kbd
# setxkbmap -option 'ctrl:nocaps' -option 'shift:both_capslock'
# xcape -e 'Control_L=Escape'
numlockx on
xset -b
xsetroot -cursor_name left_ptr

basic() {
  # bash ~/.local/bin/myscripts/if_void &
  run lxpolkit
  # run xcompmgr -c -C -t-5 -l-5 -r4.2 -o.8
  run picom --experimental-backends
  # run dunst
  run xwallpaper --stretch ~/.config/wall.png
  # run kitty
  run alacritty -e "tmux"
  # run udiskie -q -t --no-terminal
}

case "$DESKTOP_SESSION" in
  bspwm)
    basic
    ;;
  awesome|qtile)
    basic
    # sxhkd -c ~/.config/awesome/awesome_keys
    ;;
  dwm)
    basic
    run dwmblocks
    run sxhkd -c ~/.config/sxhkd/dwm_sxhkdrc
    ;;
esac

run redshift
run greenclip daemon
# run imwheel
